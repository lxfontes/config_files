_linux_stuff() {
  export PATH=$PATH:/usr/local/go/bin
}

_darwin_stuff() {
  alias flushdns="sudo dscacheutil -flushcache;sudo killall -HUP mDNSResponder;say cache flushed"
}

export PATH="$HOME/bin:/usr/local/bin:/usr/local/sbin:$PATH"

alias bi='bundle install --path=.bundle/gems'
alias be='bundle exec'

export GOPATH="$HOME/code"
export PATH="$PATH:$GOPATH/bin"

alias vi=nvim
alias vim=nvim
export EDITOR=nvim
export VISUAL=nvim

export LS_COLORS="ow=01;36;40"

## Z
source $HOME/.z.sh
alias zz='cd +$(d | fzf -n 2 | cut -f1)'

## direnv.net
eval "$(direnv hook zsh)"

## rubby
eval "$(rbenv init - zsh --no-rehash)"

alias hazip="dig +short myip.opendns.com @resolver1.opendns.com"
alias urlencode='python -c "import sys, urllib as ul; print ul.quote_plus(sys.argv[1]);"'
alias dev_layout='tmux split-window -h -p 40 && tmux split-window -v'

bindkey "^r" history-incremental-pattern-search-backward
KEYTIMEOUT=1

kp() {
  kubectl get pod -l $1 -o name | cut -d/ -f2-
}

case `uname -s` in
  Darwin)
    _darwin_stuff
    ;;
  Linux)
    _linux_stuff
    ;;
  **)
    echo "WARNING: could not determine underlying OS"
    ;;
esac
